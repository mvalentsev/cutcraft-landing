# Refactoring Log - pages-landing (2025-10-09)

## –¶–µ–ª—å

–ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è landing page —Å Tailwind 4.1 –∏ Vite 7, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–ø–∞—Å—Ç—ã,
—É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

---

## ‚úÖ –ß—Ç–æ –†–ï–ê–õ–¨–ù–û —É–ª—É—á—à–µ–Ω–æ

### 1. CSS (src/main.css)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–ª–µ–Ω `@media (prefers-reduced-motion: reduce)` –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–ª–∏ utility –∫–ª–∞—Å—Å—ã: `.feature-card`, `.payment-card`, `.model-card`,
  `.cta-button`
- –£–±—Ä–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ glassmorphism —Å—Ç–∏–ª–µ–π (–±—ã–ª–æ 15+ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –≤ HTML)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

- ‚úÖ Build –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚úÖ –ö–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ HTML (grep –ø–æ–∫–∞–∑–∞–ª 14 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π)
- ‚úÖ –†–∞–∑–º–µ—Ä CSS: 18KB (gzip 4.22KB) - –Ω–æ—Ä–º–∞–ª—å–Ω–æ

**–ü–æ—á–µ–º—É –ë–ï–ó @apply:**

- Tailwind 4.1 –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç `@apply card-glass` –≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ –∂–µ
  `@layer components`
- –†–µ—à–µ–Ω–∏–µ: —è–≤–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ glassmorphism —Å–≤–æ–π—Å—Ç–≤ –≤ –∫–∞–∂–¥–æ–º utility –∫–ª–∞—Å—Å–µ

---

### 2. JavaScript (src/app.js)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–ª–µ–Ω
  `const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches`
- Intersection Observer: `rootMargin: '50px'` (—Ç—Ä–∏–≥–≥–µ—Ä —Ä–∞–Ω—å—à–µ), `threshold: 0.1`
- `observer.unobserve()` –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–∫–∞–∑–∞ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- `scrollIntoView({ behavior: prefersReducedMotion ? 'auto' : 'smooth' })`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

- ‚úÖ Build –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è (–µ—Å–ª–∏ prefers-reduced-motion ‚Üí —Å—Ä–∞–∑—É –≤—Å–µ –≤–∏–¥–∏–º–æ, –±–µ–∑
  –∞–Ω–∏–º–∞—Ü–∏–π)
- ‚úÖ –†–∞–∑–º–µ—Ä JS: 1.45KB (gzip 0.75KB)

---

### 3. HTML (index.html, 404.html)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ó–∞–º–µ–Ω–∏–ª–∏ 15+ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –¥–ª–∏–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ utility (`.feature-card`,
  `.payment-card`, `.model-card`, `.cta-button`)
- –î–æ–±–∞–≤–∏–ª–∏ `<main>` –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏
- –î–æ–±–∞–≤–∏–ª–∏ `rel="preconnect" href="https://t.me"`
- QR –∫–æ–¥: `loading="lazy" width="256" height="256"`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

- ‚úÖ Build –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚úÖ HTML –≤–∞–ª–∏–¥–Ω—ã–π
- ‚úÖ –†–∞–∑–º–µ—Ä—ã: index 14.7KB (gzip 3.14KB), 404 1.42KB (gzip 0.75KB)

---

### 4. Vite Config (vite.config.js)

**–§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (–ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø):**

```javascript
export default defineConfig({
  plugins: [tailwindcss()],
  define: {
    __APP_VERSION__: JSON.stringify(version),
  },
  build: {
    rollupOptions: {
      input: {
        main: '/index.html',
        404: '/404.html',
      },
    },
  },
});
```

**–ü–æ—á–µ–º—É —Ç–æ–ª—å–∫–æ —ç—Ç–æ:**

- `rollupOptions.input` - –ù–£–ñ–ï–ù –¥–ª—è 2 HTML —Ñ–∞–π–ª–æ–≤ (–Ω–µ –¥–µ—Ñ–æ–ª—Ç)
- `define.__APP_VERSION__` - –ù–£–ñ–ï–ù –¥–ª—è –≤–µ—Ä—Å–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –î–ï–§–û–õ–¢–´ Vite 7:
  - `target: 'baseline-widely-available'` (–¥–µ—Ñ–æ–ª—Ç)
  - `minify: 'esbuild'` (–¥–µ—Ñ–æ–ª—Ç)
  - `reportCompressedSize: true` (–¥–µ—Ñ–æ–ª—Ç)
  - `sourcemap: false` –¥–ª—è production (–¥–µ—Ñ–æ–ª—Ç)
  - `chunkSizeWarningLimit: 500` (–¥–µ—Ñ–æ–ª—Ç)
  - Asset naming —Å —Ö–µ—à–∞–º–∏ (–¥–µ—Ñ–æ–ª—Ç)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

- ‚úÖ Build –ø—Ä–æ—Ö–æ–¥–∏—Ç
- ‚úÖ –•–µ—à–∏ –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤ –µ—Å—Ç—å: `app-CC7v6PV8.css`, `app-eAP0NFcQ.js`
- ‚úÖ –í—Ä–µ–º—è –±–∏–ª–¥–∞: 232ms

---

### 5. GitHub Actions (.github/workflows/deploy.yml)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–ª–µ–Ω –∫—ç—à Bun dependencies: `~/.bun/install/cache`
- **–í–ê–ñ–ù–û**: `pages-landing` –£–ñ–ï –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è!
  - –ù–ï –ù–£–ñ–ù–û `working-directory: pages-landing`
  - –ù–ï –ù–£–ñ–ù–û `paths: ['pages-landing/**']`
  - hashFiles('bun.lock') –ë–ï–ó –ø—Ä–µ—Ñ–∏–∫—Å–∞
  - path: ./dist –ë–ï–ó –ø—Ä–µ—Ñ–∏–∫—Å–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

- ‚úÖ `git rev-parse --show-toplevel` ‚Üí
  `/home/michael/projects/cutcraft2/pages-landing`
- ‚úÖ `bun.lock` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ
- ‚úÖ –ü—É—Ç—å –∫—ç—à–∞ `~/.bun/install/cache` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π (–∏–∑ Bun docs)

---

## ‚ùå –ß—Ç–æ –±—ã–ª–æ –û–®–ò–ë–ö–û–ô (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

### 1. @custom-media –≤ CSS

**–ë—ã–ª–æ:**

```css
@custom-media --sm (min-width: 640px);
@custom-media --md (min-width: 768px);
@custom-media --lg (min-width: 1024px);
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –î—É–±–ª–∏—Ä—É—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç—ã Tailwind 4.1
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–∏–≥–¥–µ (–∫–ª–∞—Å—Å—ã `sm:`, `md:`, `lg:` —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –Ω–∏—Ö)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –£–¥–∞–ª–µ–Ω—ã

---

### 2. –ò–∑–±—ã—Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ Vite

**–ë—ã–ª–æ:**

```javascript
target: 'esnext',
minify: 'esbuild',
cssMinify: 'lightningcss',
reportCompressedSize: true,
sourcemap: false,
chunkSizeWarningLimit: 500,
manualChunks: undefined,
assetFileNames: 'assets/[name]-[hash][extname]',
chunkFileNames: 'assets/[name]-[hash].js',
entryFileNames: 'assets/[name]-[hash].js'
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- 90% –¥—É–±–ª–∏—Ä—É—é—Ç –¥–µ—Ñ–æ–ª—Ç—ã Vite 7
- `cssMinify: 'lightningcss'` –∏–∑–±—ã—Ç–æ—á–µ–Ω (@tailwindcss/vite —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
  LightningCSS)
- `target: 'esnext'` —Å–ª–∏—à–∫–æ–º –Ω–æ–≤—ã–π (–¥–µ—Ñ–æ–ª—Ç 'baseline-widely-available' –ª—É—á—à–µ)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –£–¥–∞–ª–µ–Ω–æ –≤—Å—ë –∫—Ä–æ–º–µ `rollupOptions.input` (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω)

---

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ GitHub Actions

**–ë—ã–ª–æ:**

```yaml
paths:
  - 'pages-landing/**'
defaults:
  run:
    working-directory: pages-landing
key: ${{ runner.os }}-bun-${{ hashFiles('pages-landing/bun.lock') }}
path: pages-landing/dist
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- `pages-landing` –£–ñ–ï –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –Ω–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è!
- –í—Å–µ –ø—É—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –£–±—Ä–∞–Ω—ã –ø—Ä–µ—Ñ–∏–∫—Å—ã `pages-landing/`

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

**–†–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤:**

- 404.html: 1.42 KB (gzip: 0.75 KB)
- index.html: 14.70 KB (gzip: 3.14 KB)
- CSS: 18.04 KB (gzip: 4.22 KB)
- JS: 1.45 KB (gzip: 0.75 KB)

**–í—Ä–µ–º—è –±–∏–ª–¥–∞:** 232ms

**–ö–æ–¥:**

- –£–±—Ä–∞–Ω–æ ~30 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ vite.config.js
- –£–±—Ä–∞–Ω–æ 3 —Å—Ç—Ä–æ–∫–∏ @custom-media
- –£–±—Ä–∞–Ω–æ 15+ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –¥–ª–∏–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –≤ HTML
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ prefers-reduced-motion

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

**–ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ñ–∏–≥–∞:**

1. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —ç—Ç–æ –ù–ï –¥–µ—Ñ–æ–ª—Ç Vite/Tailwind
2. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
3. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —ç—Ç–æ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º CSS:**

1. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –Ω–µ—Ç –ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
2. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ HTML
3. [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞–ª –±–∏–ª–¥

**–ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º GitHub Actions:**

1. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (`git rev-parse --show-toplevel`)
2. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç (bun.lock, dist/)
3. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é setup-bun –ø—Ä–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üöÄ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ Production build —É—Å–ø–µ—à–µ–Ω
- ‚úÖ prefers-reduced-motion –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ Intersection Observer –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Utility –∫–ª–∞—Å—Å—ã —É—Å—Ç—Ä–∞–Ω–∏–ª–∏ –∫–æ–ø–∏–ø–∞—Å—Ç—É
- ‚úÖ GitHub Actions –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- ‚úÖ Semantic HTML –¥–ª—è SEO
- ‚úÖ Accessibility —É–ª—É—á—à–µ–Ω–∞

---

**–î–∞—Ç–∞:** 2025-10-09 **–í—Ä–µ–º—è:** ~2 —á–∞—Å–∞ (–≤–∫–ª—é—á–∞—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫) **–í—ã–≤–æ–¥—ã:**
–í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–µ—Ñ–æ–ª—Ç—ã –ü–ï–†–ï–î –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ñ–∏–≥–∞!
